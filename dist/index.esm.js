import e from"lodash.flow";function s(e,s,o){return s in e?Object.defineProperty(e,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[s]=o,e}function o(e,s){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),o.push.apply(o,r)}return o}const r=(e,s)=>{let o;o=s?e=>e.loader&&e.loader.includes("babel")&&e.exclude:e=>e.loader&&e.loader.includes("babel")&&e.include;let r=e.module.rules.find(e=>Array.isArray(e.oneOf)).oneOf,t=r.find(o);return t||(t=(r=r.reduce((e,s)=>e.concat(s.use||[]),[])).find(o)),t},t=(e={},s=!1)=>o=>{const r=require("webpack-bundle-analyzer").BundleAnalyzerPlugin;return s&&!process.argv.includes("--analyze")||o.plugins.push(new r(Object.assign({analyzerMode:"static",reportFilename:"report.html"},e))),o},n=()=>e=>{return e.module.rules.filter(e=>e.use&&e.use.some(e=>e.options&&void 0!==e.options.useEslintrc)).forEach(s=>{e.module.rules=e.module.rules.filter(e=>e!==s)}),e},i=e=>s=>(s.resolve||(s.resolve={}),s.resolve.alias||(s.resolve.alias={}),Object.assign(s.resolve.alias,e),s),l=e=>s=>(s.resolve||(s.resolve={}),Object.assign(s.resolve,e),s),u=e=>s=>(s.plugins.push(e),s),a=e=>s=>(s.plugins.forEach(s=>{"GenerateSW"===s.constructor.name&&e(s.config)}),s),p=e=>s=>{const o=s.module.rules.filter(e=>e.use&&e.use.some(e=>e.options&&void 0!==e.options.useEslintrc))[0];o.use[0].options.useEslintrc=!0,o.use[0].options.ignore=!0,o.use[0].options.configFile=e,delete o.use[0].options.baseConfig;const r=s.module.rules.map(e=>e.use&&e.use.some(e=>e.options&&void 0!==e.options.useEslintrc)?o:e);return s.module.rules=r,s},c=()=>e=>{const s=e.module.rules.filter(e=>e.use&&e.use.some(e=>e.options&&void 0!==e.options.useEslintrc))[0];s.test=/\.([j,t]sx?|mjs)$/;const o=e.module.rules.map(e=>e.use&&e.use.some(e=>e.options&&void 0!==e.options.useEslintrc)?s:e);return e.module.rules=o,e},d=(e={})=>s=>{const o="development"===process.env.NODE_ENV?"dev":"prod",r="./"===require("react-scripts/config/paths").servedPath,t="prod"===o&&"false"!==process.env.GENERATE_SOURCEMAP,n=/\.module\.less$/,i=e.localIdentName||"[path][name]__[local]--[hash:base64:5]",l=s=>[{loader:require("mini-css-extract-plugin").loader,options:Object.assign({},r?{publicPath:"../../"}:void 0)},{loader:require.resolve("css-loader"),options:s},{loader:require.resolve("postcss-loader"),options:{ident:"postcss",plugins:()=>[require("postcss-flexbugs-fixes"),require("postcss-preset-env")({autoprefixer:{flexbox:"no-2009"},stage:3})],sourceMap:t}},{loader:require.resolve("less-loader"),options:Object.assign(e,{source:t})}],u=s.module.rules.find(e=>Array.isArray(e.oneOf)).oneOf;return u.splice(u.length-1,0,{test:/\.less$/,exclude:n,use:l({importLoaders:2}),sideEffects:"prod"===o},{test:n,use:l({importLoaders:2,modules:!0,localIdentName:i})}),s},f=()=>e=>(process.argv.includes("--watch-all")&&delete e.watchOptions,e),m=()=>e=>(e.optimization.splitChunks={cacheGroups:{default:!1}},e.optimization.runtimeChunk=!1,e),g=e=>r=>{let t=r.externals;return t?Array.isArray(e)?t=e.concat(t):Array.isArray(t)||e.constructor===Function||e.constructor===RegExp?t=[e].concat(t):e instanceof Object&&t instanceof Object&&(t=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(t,!0).forEach((function(o){s(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(t).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}({},t,{},e)):t=e,r.externals=t,r},b=e=>s=>{return s.module.rules.find(e=>Array.isArray(e.oneOf)).oneOf.forEach(s=>s.use&&s.use.forEach(s=>{if(s.options&&"postcss"===s.options.ident&&(s.options.plugins||(s.options.plugins=()=>[...e]),s.options.plugins)){const o=s.options.plugins;s.options.plugins=()=>[...o(),...e]}})),s},h=()=>e=>(e.resolve.plugins=e.resolve.plugins.filter(e=>"ModuleScopePlugin"!==e.constructor.name),e),O=e=>s=>{for(let o of s.module.rules)if(o.oneOf){o.oneOf.unshift(e);break}return s},v=e=>s=>(s.module.rules.unshift({test:/\.(ts|tsx)$/,loader:"tslint-loader",options:e,enforce:"pre"}),s),y=e=>s=>(s.target=e,s),j=e=>s=>(e&&(e.startsWith("http")||e.startsWith("https")||e.startsWith("/")||(e="/"+e),e.endsWith("/")||(e+="/"),s.output.publicPath=e),s),E=e=>s=>(r(s).options.plugins.push(e),s),x=e=>s=>{const o=r(s,!0).options;return o.plugins||(o.plugins=[]),o.plugins.push(e),s},P=e=>s=>(r(s).options.presets.push(e),s),A=()=>e=>E(["@babel/plugin-proposal-decorators",{legacy:!0}])(e),w=()=>e=>(r(e).options.babelrc=!0,e),q=e=>s=>(r(s).include=e,s),z=e=>s=>(r(s).exclude=e,s),N=(...e)=>e.map(e=>E(e)),k=(...e)=>e.map(e=>x(e)),D=(...e)=>e.map(e=>P(e)),S=(e,s)=>E(["import",Object.assign({},{libraryName:e},s),`fix-${e}-imports`]),W=(...s)=>e(...s.filter(e=>e)),$=(...e)=>s=>(o,r)=>{const t=s(o,r);return W(...e)(t)};export{E as addBabelPlugin,N as addBabelPlugins,P as addBabelPreset,D as addBabelPresets,t as addBundleVisualizer,A as addDecoratorsLegacy,x as addExternalBabelPlugin,k as addExternalBabelPlugins,d as addLessLoader,b as addPostcssPlugins,v as addTslintLoader,i as addWebpackAlias,g as addWebpackExternals,O as addWebpackModuleRule,u as addWebpackPlugin,l as addWebpackResolve,a as adjustWorkbox,z as babelExclude,q as babelInclude,m as disableChunk,n as disableEsLint,c as enableEslintTypescript,S as fixBabelImports,r as getBabelLoader,W as override,$ as overrideDevServer,h as removeModuleScopePlugin,j as setWebpackPublicPath,y as setWebpackTarget,w as useBabelRc,p as useEslintRc,f as watchAll};
//# sourceMappingURL=index.esm.js.map
